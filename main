/******************************************************************
 * Simon Fraser University
 * ENSC-151 Introduction to Software Development for Engineers
 * Final Assignment
 * main.cpp -- main program
 * 
 * Author: Kevin Poon, Trevor Kwong, Bryan Servin, Max Leung, Samantha Huang
 *
 *******************************************************************/

#include <iostream>
#include <iomanip>
#include <cstdlib>

using namespace std;

// allow function prototypes
void introduction();
void scene1_1();
void scene1_2();
void description();
string startMenu();
void clrSn();
void scene2_1();
void scene2_2();
void scene2_3();
void scene2_4();

void clrSn() {
    // Clear the console screen
    #ifdef _WIN32
        system("cls");
    #else
        system("clear");
    #endif
}

void description() {
    cout << "Welcome to [GAME NAME]" << endl;
    cout << "[GAME DESCRIPTION]" << endl;
    cout << "[GAME GUIDE]" << endl;
    cout << "Good luck and have fun!" << endl;
    return;
}

string startMenu() {
    clrSn();
    // prompt user to start or quit the game
    cout << "To start the game, enter 'start'." << endl;
    cout << "To quit the game, enter 'quit'." << endl;
    string cmd;
    cin >> cmd;
    // ensure input is case insensitive
    for (char &letter : cmd){
        letter  = tolower(letter);
    }
    while (true) {
        if (cmd == "start") {
            cout << "Starting game..." << endl;
            introduction();
            break;
        } else if (cmd == "quit") {
            cout << "Quitting game. Goodbye!" << endl;
            exit(0);
        } else {
            cout << "Invalid input. Please enter 'start' or 'quit'." << endl;
            cin >> cmd;
            for (char &letter : cmd){
                letter  = tolower(letter);
            }
        }
    }
    return 0;
}

void introduction() {
    // introduction scene
    clrSn();
    cout << "[Storyline Introduction]" << endl;
    cout << "[INSERT ASCII ART]" << endl;
    cout << "[Prompt]\n[Choice 1]\n[Choice 2]" << endl;
    while (true) {
        string choice;
        cin >> choice;
        if (choice == "1" || choice == "2") {
            if (choice == "1") {
                scene1_1();
                break;
            } else if (choice == "2") {
                scene1_2();
                break;
            }
            break;
        } else {
            cout << "Invalid choice. Please enter '1' or '2'." << endl;
        }
    }
    return;
}

void scene1_1() { 
    clrSn();
    cout << "[Storyline Continuation]" << endl;
    cout << "[INSERT ASCII ART]" << endl;
    cout << "[Prompt]\n1. [Choice 1]\n2. [Choice 2]\n3. [Go Back]" << endl;
    string choice;
    cin >> choice;
    while (true) {
        if (choice == "1" || choice == "2" || choice == "3") {
            break;
        } else {
            cout << "Invalid choice. Please enter '1', '2', or '3'." << endl;
            cin >> choice;
        }
    }
    if (choice == "1") {
        scene2_1();
    } else if (choice == "2") {
        scene2_2();
    } else if (choice == "3") {
        introduction();
        return;
    } else {
        cout << "Invalid choice. Please try again." << endl;
    }
    return;
}

void scene1_2() { 
    clrSn();
    cout << "[Storyline Continuation]" << endl;
    cout << "[INSERT ASCII ART]" << endl;
    cout << "[Prompt]\n1. [Choice 1]\n2. [Choice 2]\n3. [Go Back]" << endl;
    string choice;
    cin >> choice;
    while (true) {
        if (choice == "1" || choice == "2" || choice == "3") {
            break;
        } else {
            cout << "Invalid choice. Please enter '1', '2', or '3'." << endl;
            cin >> choice;
        }
    }
    if (choice == "1") {
        scene2_3();
    } else if (choice == "2") {
        scene2_4();
    } else if (choice == "3") {
        introduction();
        return;
    } else {
        cout << "Invalid choice. Please try again." << endl;
    }
    return;
}

void scene2_1() {
    clrSn();
    cout << "[Storyline Continuation]" << endl;
    cout << "[INSERT ASCII ART]" << endl;
    cout << "[Prompt]\n1. [Choice 1]\n2. [Choice 2]\n3. [Go Back]" << endl;
    string choice;
    cin >> choice;
    while (true) {
        if (choice == "1" || choice == "2" || choice == "3") {
            break;
        } else {
            cout << "Invalid choice. Please enter '1', '2', or '3'." << endl;
            cin >> choice;
        }
    }
    if (choice == "1") {
        // next scene
    } else if (choice == "2") {
        // next scene
    } else if (choice == "3") {
        scene1_1();
        return;
    } else {
        cout << "Invalid choice. Please try again." << endl;
    }
    return;
}

void scene2_2() {
    clrSn();
    cout << "[Storyline Continuation]" << endl;
    cout << "[INSERT ASCII ART]" << endl;
    cout << "[Prompt]\n1. [Choice 1]\n2. [Choice 2]\n3. [Go Back]" << endl;
    string choice;
    cin >> choice;
    while (true) {
        if (choice == "1" || choice == "2" || choice == "3") {
            break;
        } else {
            cout << "Invalid choice. Please enter '1', '2', or '3'." << endl;
            cin >> choice;
        }
    }
    if (choice == "1") {
        // next scene
    } else if (choice == "2") {
        // next scene
    } else if (choice == "3") {
        scene1_1();
        return;
    } else {
        cout << "Invalid choice. Please try again." << endl;
    }
    return;
}

void scene2_3() {
    clrSn();
    cout << "[Storyline Continuation]" << endl;
    cout << "[INSERT ASCII ART]" << endl;
    cout << "[Prompt]\n1. [Choice 1]\n2. [Choice 2]\n3. [Go Back]" << endl;
    string choice;
    cin >> choice;
    while (true) {
        if (choice == "1" || choice == "2" || choice == "3") {
            break;
        } else {
            cout << "Invalid choice. Please enter '1', '2', or '3'." << endl;
            cin >> choice;
        }
    }
    if (choice == "1") {
        // next scene
    } else if (choice == "2") {
        // next scene
    } else if (choice == "3") {
        scene1_2();
        return;
    } else {
        cout << "Invalid choice. Please try again." << endl;
    }
    return;
}

void scene2_4() {
    clrSn();
    cout << "[Storyline Continuation]" << endl;
    cout << "[INSERT ASCII ART]" << endl;
    cout << "[Prompt]\n1. [Choice 1]\n2. [Choice 2]\n3. [Go Back]" << endl;
    string choice;
    cin >> choice;
    while (true) {
        if (choice == "1" || choice == "2" || choice == "3") {
            break;
        } else {
            cout << "Invalid choice. Please enter '1', '2', or '3'." << endl;
            cin >> choice;
        }
    }
    if (choice == "1") {
        // next scene
    } else if (choice == "2") {
        // next scene
    } else if (choice == "3") {
        scene1_2();
        return;
    } else {
        cout << "Invalid choice. Please try again." << endl;
    }
    return;
}

int main() {
    description();
    startMenu();
    return 0;

}
